{"ast":null,"code":"import _regeneratorRuntime from\"D:/MERN/Login - Logout/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/MERN/Login - Logout/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var uri='http://localhost:5000/api/v1/auth';export var signOnService=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user){var route;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:route=user.isMember?\"\".concat(uri,\"/login\"):\"\".concat(uri,\"/register\");_context.prev=1;_context.next=4;return axios.post(route,user,{withCredentials:true});case 4:return _context.abrupt(\"return\",_context.sent);case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",_context.t0.response);case 10:case\"end\":return _context.stop();}},_callee,null,[[1,7]]);}));return function signOnService(_x){return _ref.apply(this,arguments);};}();export var authenticateUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(endpoint){var route,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:route=\"\".concat(uri).concat(endpoint);_context2.prev=1;_context2.next=4;return axios.get(route,{withCredentials:true});case 4:response=_context2.sent;return _context2.abrupt(\"return\",response);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log('not logged in yet');return _context2.abrupt(\"return\",_context2.t0.response);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function authenticateUser(_x2){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["axios","uri","signOnService","user","route","isMember","post","withCredentials","response","authenticateUser","endpoint","get","console","log"],"sources":["D:/MERN/Login - Logout/client/src/services/login.js"],"sourcesContent":["import axios from 'axios';\r\nconst uri = 'http://localhost:5000/api/v1/auth';\r\n\r\nexport const signOnService = async user => {\r\n  const route = user.isMember ? `${uri}/login` : `${uri}/register`;\r\n  try {\r\n    return await axios.post(route, user, {\r\n      withCredentials: true\r\n    });\r\n  } catch (error) {\r\n    return error.response;\r\n  }\r\n};\r\n\r\nexport const authenticateUser = async (endpoint) => {\r\n  const route = `${uri}${endpoint}`;\r\n  try {\r\n    const response = await axios.get(route, { withCredentials: true });\r\n    // check response\r\n    // if status ok send to dashboard or to login page\r\n    return response\r\n  } catch (error) {\r\n    console.log('not logged in yet');\r\n    return error.response\r\n  }\r\n};\r\n"],"mappings":"sPAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,GAAMC,IAAG,CAAG,mCAAmC,CAE/C,MAAO,IAAMC,cAAa,4FAAG,iBAAMC,IAAI,6HAC/BC,KAAK,CAAGD,IAAI,CAACE,QAAQ,WAAMJ,GAAG,qBAAcA,GAAG,aAAW,uCAEjDD,MAAK,CAACM,IAAI,CAACF,KAAK,CAAED,IAAI,CAAE,CACnCI,eAAe,CAAE,IACnB,CAAC,CAAC,+IAEK,YAAMC,QAAQ,qEAExB,kBATYN,cAAa,4CASzB,CAED,MAAO,IAAMO,iBAAgB,6FAAG,kBAAOC,QAAQ,0IACvCN,KAAK,WAAMH,GAAG,SAAGS,QAAQ,0CAENV,MAAK,CAACW,GAAG,CAACP,KAAK,CAAE,CAAEG,eAAe,CAAE,IAAK,CAAC,CAAC,QAA5DC,QAAQ,iDAGPA,QAAQ,6DAEfI,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAAC,iCAC1B,aAAML,QAAQ,uEAExB,kBAXYC,iBAAgB,8CAW5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}